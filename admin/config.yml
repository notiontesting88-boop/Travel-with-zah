# ============================================
# DECAP CMS CONFIG — Travel with Zaheer
# ============================================

backend:
  name: git-gateway
  branch: main

# Where uploaded images are stored in the repo
media_folder: "uploads"
# The public URL path for those images
public_folder: "/uploads"

# Show a local preview button in the editor
show_preview_links: true

# ============================================
# COLLECTIONS
# ============================================

collections:

  # ------------------------------------------
  # BLOG POSTS
  # ------------------------------------------
  - name: "posts"
    label: "Blog Posts"
    label_singular: "Blog Post"
    folder: "_posts"
    create: true
    slug: "{{slug}}"
    identifier_field: "title"
    preview_path: "/post.html?slug={{slug}}"
    summary: "{{title}} — {{region}} ({{date}})"

    fields:

      - label: "Title"
        name: "title"
        widget: "string"
        hint: "The main headline of your post"

      - label: "URL Slug"
        name: "slug"
        widget: "string"
        hint: "Short URL for this post, e.g: golden-temples-kyoto (no spaces, no capitals)"
        pattern:
          - '^[a-z0-9]+(?:-[a-z0-9]+)*$'
          - "Only lowercase letters, numbers, and hyphens"

      - label: "Short Description"
        name: "description"
        widget: "text"
        hint: "1-2 sentences shown on the blog listing page"

      - label: "Publish Date"
        name: "date"
        widget: "datetime"
        hint: "When was this written?"

      - label: "Region"
        name: "region"
        widget: "select"
        options:
          - "Asia"
          - "Southeast Asia"
          - "South Asia"
          - "Middle East"
          - "Europe"
          - "Africa"
          - "Americas"
          - "Oceania"
        hint: "Which part of the world is this post about?"

      - label: "Cover Photo"
        name: "cover"
        widget: "image"
        hint: "Thumbnail shown on the blog listing page (best: 1200x900px)"

      - label: "Hero Photo (top of post)"
        name: "hero_image"
        widget: "image"
        required: false
        hint: "Large banner at the top of the post (best: 1920x1080px). If empty, cover photo is used."

      - label: "Gallery Photos"
        name: "gallery_images"
        widget: "list"
        required: false
        label_singular: "Photo"
        field:
          label: "Photo"
          name: "image"
          widget: "image"
        hint: "Extra photos shown at the bottom of the post (optional)"

      - label: "Post Content"
        name: "content"
        widget: "markdown"
        hint: "Write your full post here. Use the toolbar to add headings, bold, quotes, and images."

      - label: "Published"
        name: "published"
        widget: "boolean"
        default: false
        hint: "Turn ON to make this post live. Turn OFF to save as a draft."

  # ------------------------------------------
  # SITE SETTINGS
  # ------------------------------------------
  - name: "site_settings"
    label: "Site Settings"
    files:

      - label: "Homepage & Global Settings"
        name: "homepage"
        file: "_data/site_settings.json"
        fields:

          - label: "Homepage Hero Photo"
            name: "homepage_hero"
            widget: "image"
            required: false
            hint: "Big background photo on the homepage (best: 1920x1080px)"

          - label: "Blog Page Hero Photo"
            name: "blog_hero"
            widget: "image"
            required: false
            hint: "Background photo at the top of the blog page"

          - label: "About Me Text"
            name: "about_text"
            widget: "text"
            hint: "The short paragraph about you on the homepage"

          - label: "Featured Section Heading"
            name: "featured_title"
            widget: "string"
            default: "From the Journal"
            hint: "Heading above the featured posts on the homepage"

